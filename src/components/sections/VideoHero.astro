---
//import {  Vimeo, YouTube } from 'astro-embed';
import { Image } from "astro:assets";
import Button from "@components/ui/Button.astro";
import WindLinks from "@components/elements/windlinks.astro";
import { Icon } from "astro-icon/components";


interface VideoContent {
  title: string;
  description: string;
  descriptionImage: string;
  backgroundVideo: string;
  buttons?: {
    text: string;
    link: string;
    target?: string;
  }[];
  overlayOpacity?: number; // Value between 0 and 1
  position: string;
  page: string;
}

interface Props {
  content: VideoContent;
}

const { content } = Astro.props;
const opacity = content.overlayOpacity ?? 1; // Default opacity if not specified
const myVideo = content.backgroundVideo;
const overlayPosition = content.position || "justify-center";

const pageLink = content.page;
const currentPage = content.page;
---

<!-- <source src={myVideo} type="video/mp4" />  -->
<section class="">
  <div class="absolute inset-0 left-0 top-0 w-full h-screen overflow-hidden">
    <video  muted playsinline class="min-h-full w-full object-cover">
      <!--         {content.page === "about" &&  <source src={myVideo} type="video/mp4" /> }
            { content.page === "start" && <source src={myVideo} type="video/mp4" /> }
            {content.page === "tandem" && <source src={myVideo} type="video/mp4" /> } -->
      <source src={myVideo} type="video/mp4" />
    </video>
  </div>

  <WindLinks />

  <div
    class="hero-background absolute inset-0 left-0 top-0 h-screen lg:w-full lg:h-full overflow-hidden"
    style={`opacity: ${opacity};`}
  >
  </div>
  <!-- logo and text overlay -->
  <div
    class="site-container mx-auto px-4 pt-0 pb-20 relative z-10 flex flex-col justify-center h-screen sm:items-center md:justify-end sm:text-center"
    class:list={overlayPosition}
  >
    {
      content.descriptionImage && (
        <div class="">
          <Image
            src={content.descriptionImage}
            alt="Skysport SkÃ¤rmflygskola"
            width={486}
            height={280}
            class=" invisible md:visible"
            quality={70}
            format="webp"
            loading="lazy"
          />
        </div>
      )
    }
    <p class="text-center text-white text-4xl text-balance">{content.title}</p>
    <p class="text-center text-white mt-2 text-balance">
      {content.description}
    </p>
    {
      content.buttons && content.buttons.length > 0 && (
        <div class="flex  flex-col md:flex-row gap-4 mt-8 items-center">
          {content.buttons.map((button) => (
            <Button
              href={button.link}
              target={button.target || "_self"}
              variant={button.variant || "primary"}
            >
              {button.text}
            </Button>
          ))}
        </div>
      )
    }

  </div>
</section>
