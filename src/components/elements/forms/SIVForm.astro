---
import Hr1 from "@components/elements/SeparatorLine.astro";

const kursRadioDates = [
    {
        kursLabel: 'SIV vecka 28',
        kursValue: 'vecka-28',
        kursID: 'vecka-28',
    },
    {
        kursLabel: 'SIV vecka 32',
        kursValue: 'vecka-32',
        kursID: 'vecka-32',
    },
    {
        kursLabel: 'SIV vecka 34',
        kursValue: 'vecka-34',
        kursID: 'vecka-34',
    },
];



const AsteriskSpan = '<span class="text-amber-600 text-xl">*</span>';


const sivPrice = 4500.00;
const delDubbel = 1500.00;
const enkelt = 1950.00;
const eget = 0.00;
const formattedSiv = new Intl.NumberFormat('sv-SE', {
  style: 'currency',
  currency: 'SEK'
}).format(sivPrice);
const formattedDub = new Intl.NumberFormat('sv-SE', {
  style: 'currency',
  currency: 'SEK'
}).format(delDubbel);
const formattedAlone = new Intl.NumberFormat('sv-SE', {
  style: 'currency',
  currency: 'SEK'
}).format(enkelt);
const formattedEget = new Intl.NumberFormat('sv-SE', {
  style: 'currency',
  currency: 'SEK'
}).format(eget);

//console.log(formattedSiv + ' ' + formattedDub + ' ' + formattedAlone + ' ' + formattedEget);

const boendeTypes = [
    {
        boLabel: 'Del av Dubbelrum (1500 kr)',
        boValue: formattedDub,
        boID: 'del-dubbel',
    },
    {
        boLabel: 'Enkeltrum (1950 kr)',
        boValue: formattedAlone,
        boID: 'enkelt',
    },
    {
        boLabel: 'Hel Lägenhet',
        boValue: '0',
        boID: 'apartment',
    },
    {
        boLabel: 'Jag har eget Boende',
        boValue: formattedEget,
        boID: 'eget',
    },
];

---

<div class="max-w-[85rem] px-4 py-10 sm:px-6 lg:px-8 lg:py-14 mx-auto">
    <form>
    <div class="grid grid-col-4">
        <div class="lg:text-2xl font-bold"><!--col 1 -->
            <h3>Kurser<span class="text-amber-600 text-xl">*</span></h3>
        </div>

        <div class="col-span-3"><!-- col 2,3,4 -->
            <div class="flex flex-col gap-y-3">
                { kursRadioDates.map((kursdate, index) => (
                        <div class="flex">
                            <input type="radio" id={`hs-radio-vertical-group-${index + 1}`} value={kursdate.kursValue} name="hs-radio-vertical-group" class="shrink-0 mt-0.5 lg:w-6 lg:h-6 border-gray-200 rounded-full text-blue-600 focus:ring-blue-500 checked:border-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800"  checked="">
                            <label for={`hs-radio-vertical-group-${index + 1}`} class="text-sm lg:text-lg text-gray-500 ms-2 dark:text-neutral-400">{kursdate.kursLabel}</label>
                        </div>
                    ))
                }
            </div>
        </div><!-- end kurser -->

        <div class="col-span-4">
           <Hr1 />
        </div>

        <div class="lg:text-2xl font-bold py-3"><!--col 1 -->
            <h3>Säkerhetskurs SIV pris:</h3>
        </div>
        <div class="col-span-3 py-3">
            <div class="py-2 sm:py-0 "><!-- 2 col again -->                                
                <input type="text" name="hs-pris" id="hs-pris" placeholder="" value={formattedSiv} disabled class="lg:w-1/5 sm:w-full p-2 sm:py-3 sm:px-4 block w-full border  border-gray-200 rounded-lg sm:text-sm lg:text-lg focus:border-blue-500 focus:ring-blue-500  disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
        </div>      
        </div>

        <div class="lg:text-2xl font-bold py-3"><!--col 1 -->
            <h3>Boende sommar<span class="text-amber-600 text-xl">*</span></h3>
        </div>
        <div class="col-span-3 py-3"><!-- col 2,3,4 -->
            <div class="flex flex-col gap-y-3">
                { boendeTypes.map((boende, index) => (
                        <div class="flex">
                            <input type="radio" id={`hs-radio-vertical-group-bo-${index + 1}`} value={boende.boValue} name="hs-radio-vertical-group-bo"  class="shrink-0 mt-0.5 lg:w-6 lg:h-6 border-gray-200 rounded-full text-blue-600 focus:ring-blue-500 checked:border-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-800 dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800"  >
                            <label for={`hs-radio-vertical-group-bo-${index + 1}`} class="text-sm lg:text-lg text-gray-500 ms-2 dark:text-neutral-400">{boende.boLabel}</label>
                        </div>
                    ))
                }
            </div>
        </div>

        <div class="lg:text-2xl font-bold py-3"><!--col 1 -->
            <h3>Summa:</h3>
        </div>
        <div class="col-span-3 py-3">
            <div class="py-2 sm:py-0 "><!-- 2 col again -->                                
                <input type="text" name="hs-summa" id="hs-summa" placeholder="4500 kr" value="" disabled class="lg:w-1/5 sm:w-full p-2 sm:py-3 sm:px-4 block w-full border  border-gray-200 rounded-lg sm:text-sm lg:text-lg focus:border-blue-500 focus:ring-blue-500  disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                 <label for="hs-summa" class="text-sm lg:text-lg text-gray-500 ms-2 dark:text-neutral-400">Summan räknäs efter val av boende.</label>
          </div>      
        </div>
    </div><!--end grid-->
    

    <div class="lg:text-3xl ">
            <h2>Kontakt Information</h2>
            <Hr1 />
    </div>
      <!-- Grid -->
        <div class="grid grid-cols-1 sm:grid-cols-5 gap-4 lg:gap-6">
            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Namn<span class="text-amber-600 text-xl">*</span></h3>
            </div>
            <div class="py-2 sm:py-0  col-span-2 ">
                <input type="text" name="hs-firstname-contacts-1" id="hs-firstname-contacts-1" placeholder="Förnamn"  class="p-2 sm:py-3 sm:px-2 w-full block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-firstname-contacts-1" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Förnamn<span class="text-amber-600 text-lg">*</span> </label>
            </div>
            <div class="py-2 sm:py-0  col-span-2 ">
                <input type="text" name="hs-lastname-contacts-1" id="hs-lastname-contacts-1" placeholder="Efternamn" class="p-2 sm:py-3 sm:px-2 w-full block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-lastname-contacts-1" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Efternamn<span class="text-amber-600 text-lg">*</span> </label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Födelseår<span class="text-amber-600 text-xl">*</span></h3>
            </div>
            <div class="py-2 sm:py-0  col-span-1 ">
                <input type="text" name="hs-birthyear" id="hs-birthyear" placeholder="xxxx"  class="p-2 sm:py-3 sm:px-2 sm:w-1/2 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-birthyear" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Skriv ditt födelseår XXXX</label>
            </div>
            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>SSFF Lic nr</h3>
            </div>
            <div class="py-2 sm:py-0  col-span-2 ">
                <input type="text" name="hs-lic-nr" id="hs-lic-nr" placeholder="Lic. nr."  class="p-2 sm:py-3 sm:px-2 sm:w-1/2 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-lic-nr" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white"></label>
            </div>


            <!-- adress -->
            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Adress<span class="text-amber-600 text-xl">*</span></h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">
                <input type="text" name="hs-gatu" id="hs-gatu" placeholder="Gatuadress"  class="p-2 sm:py-3 sm:px-2 sm:w-3/4 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-gatu" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Gatuadress</label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>&nbsp;</h3>
            </div>
            <div class="py-2 sm:py-0  col-span-2 ">
                <input type="text" name="hs-city" id="hs-city" placeholder="Stad"  class="p-2 sm:py-3 sm:px-2 sm:w-1/2 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-city" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Stad</label>
            </div>
            <div class="py-2 sm:py-0  col-span-2 ">
                <input type="text" name="hs-post-nr" id="hs-post-nr" placeholder="Postnummer"  class="p-2 sm:py-3 sm:px-2 sm:w-1/2 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-post-nr" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Postnummer</label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>&nbsp;</h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">
                <input type="text" name="hs-land" id="hs-land" placeholder="Land"  class="p-2 sm:py-3 sm:px-2 sm:w-1/2 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-land" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Land</label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>E-post<span class="text-amber-600 text-xl">*</span></h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">
                <input type="email" name="hs-email-contacts-1" id="hs-email-contacts-1" autocomplete="email"  class="p-2 sm:py-3 sm:px-2 sm:w-1/3 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-email-contacts-1" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">E-post</label>   
            </div>
            
            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Telefon dagtid</h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">
                <input type="text" name="hs-tel-day" id="hs-tel-day" placeholder="tel. dag"  class="p-2 sm:py-3 sm:px-2 sm:w-1/3 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-tel-day" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Tel. dag</label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Telefon mobil<span class="text-amber-600 text-xl">*</span></h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">
                <input type="text" name="hs-mobile" id="hs-mobile" placeholder="tel. dag"  class="p-2 sm:py-3 sm:px-2 sm:w-1/3 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-mobile" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Tel. Mobil</label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Din Vikt</h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">
                <input type="text" name="hs-weight" id="hs-weight" placeholder="Vikt"  class="p-2 sm:py-3 sm:px-2 sm:w-1/4 block  border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 dark:placeholder-neutral-500 dark:focus:ring-neutral-600">
                <label for="hs-weight" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Vikt</label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Meddelande</h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">
                <textarea id="hs-meddelande" name="hs-meddelande" class="py-2.5 sm:py-3 px-4 block w-full border  border-gray-200 rounded-lg sm:text-sm focus:border-blue-500 focus:ring-blue-500 disabled:opacity-50 disabled:pointer-events-none dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-200 dark:placeholder-neutral-500 dark:focus:border-neutral-700 dark:focus:ring-neutral-600" rows="3" placeholder="Om det är något mer du vill informera oss om eller fråga, kan du skriva det här! Om bokningen gäller för mer än en person kan ni meddela oss via detta meddelande." data-hs-textarea-auto-height=""></textarea>   
                <label for="hs-meddelande" class="block mb-2 text-sm text-gray-700 font-medium dark:text-white">Meddelande</label>
            </div>

             <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Nyhetsbrev</h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4 ">                  
                <input id="hs-news" name="hs-news" type="checkbox" class="shrink-0 mt-1.5   cursor-pointer rounded-full w-4 h-4 p-5 border border-gray-200 rounded-sm text-blue-600 focus:ring-blue-500 dark:bg-neutral-800 dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800">
                <label for="hs-news" class="text-sm text-gray-600 px-2 sm:text-xl dark:text-neutral-400">Ja tack! Jag vill prenumerera på Skysport's Nyhetsbrev.</label>
            </div>

            <div class="lg:text-2xl font-bold "><!--col 1 -->
                <h3>Integritietspolicy<span class="text-amber-600 text-xl">*</span></h3>
            </div>
            <div class="py-2 sm:py-0  col-span-4  flex flex-row ">                  
                <input id="hs-integ" name="hs-integ" type="checkbox" class="shrink-0 mt-1.5   cursor-pointer rounded-full w-4 h-4 p-5  border border-gray-200 rounded-sm text-blue-600 focus:ring-blue-500 dark:bg-neutral-800 dark:border-neutral-700 dark:checked:bg-blue-500 dark:checked:border-blue-500 dark:focus:ring-offset-gray-800">
                <label for="hs-integ" class="text-sm text-gray-600 px-2 sm:text-xl dark:text-neutral-400"> Jag godkänner.  Läs om Skysports integritetspolicy här: <a class="text-blue-600 decoration-2 hover:underline focus:outline-hidden focus:underline font-medium dark:text-blue-500" href="https://skysport.se/integritetspolicy/">integritetspolicy(GDPR)</a></label>
            </div>

        </div>
      
        <div class="mt-3 flex">
            <div class="mt-6 grid">
                <button type="submit" class="w-s py-3 px-4 inline-flex justify-center items-center gap-x-2 text-sm font-medium rounded-lg border border-transparent bg-blue-600 text-white hover:bg-amber-700 focus:outline-hidden focus:bg-blue-700 disabled:opacity-50 disabled:pointer-events-none">Skicka SIV Bokning</button>
            </div>
        </div>
        
    </form>

</div>

<script is:inline>

const sivPrice = document.getElementById("hs-pris").value;

const bobuttons =  document.getElementsByName('hs-radio-vertical-group-bo');
    bobuttons.forEach((button) => {
        button.addEventListener('click', () => {SivSumma()
    });
  });

 function SivSumma() {
       
            var ele = document.getElementsByName('hs-radio-vertical-group-bo');
            for (i = 0; i < ele.length; i++) {
                if (ele[i].type = "radio") {

                    if (ele[i].checked)
                        
                        document.getElementById("hs-summa").value = currencyNumber(sivPrice)/100 + (currencyNumber(ele[i].value))/100 + ',00 kr'; 
                        
                      //  alert((currencyNumber(sivPrice) + currencyNumber(ele[i].value))/100);
                }
            }
        }

function currencyNumber(kroners){
    let currencyString = kroners;
    let numericString = currencyString.replace(/[^0-9.-]+/g,""); // Removes $, commas, etc.
    let numberValue = parseFloat(numericString);
    return numberValue;
}

</script>



